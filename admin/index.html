<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>CMS</title>
    <script src="https://unpkg.com/@staticcms/app@^3.0.0/dist/static-cms.js"></script>
</head>

<body>
    <script>
        window.CMS_MANUAL_INIT = true;
    </script>

    <script>
        // Wait for CMS to load from the script above
        window.onload = function () {
            if (typeof CMS === "undefined") {
                console.error("CMS is not defined. Script may have failed to load.");
                return;
            }

            CMS.init({
                config: {
                    backend: {
                        name: "github",
                        repo: "cinyuzhu/damic-notes",
                        branch: "main",
                        auth_type: "oauth",
                        app_id: "Ov23libEVoBM9FREDJo9" // Replace this
                    },
                    media_folder: "docs/uploads",
                    public_folder: "/uploads",
                    collections: [
                        {
                            name: "notes",
                            label: "Notes",
                            folder: "docs",
                            create: true,
                            slug: "{{slug}}",
                            fields: [
                                { label: "Title", name: "title", widget: "string" },
                                { label: "Body", name: "body", widget: "markdown" }
                            ]
                        }
                    ]
                }
            });
        };
    </script>
</body>

</html>